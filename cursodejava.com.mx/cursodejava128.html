<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">

<head>

<title>Curso de Java: La estructura de control try…catch</title>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="description" content="Este curso de Java está dirigido a quienes dominan los fundamentos de programación e incluye libro gratis en PDF para descargar." />

<link rel="stylesheet" type="text/css" href="estilos.css" />

</head>

<body>

<div id="mainBox">

  <div id="topBar"><img src="images/duke.png" alt="curso de java" width="106" height="102" class="duke" />

  <p class="titulo">Curso de Java<br /><span class="chica">Desde cero hasta conexiones con bases de datos MySQL</span></p></div><!-- #BeginLibraryItem "/Library/topMenu.lbi" -->

<ul id="nav">

  <li><a href="index.html">Inicio</a></li>

  <li><a href="cursodejavaDescarga.html">Descargar</a></li>

  <li><a href="vinculos.html">Vínculos</a></li>

  <li><a href="acercade.html">Acerca de</a></li>

  <li><a href="contacto.html">Contacto</a></li>

</ul>

<!-- #EndLibraryItem --><div id="contenido" class="clearfix"><!-- #BeginLibraryItem "/Library/leftMenu.lbi" --><div id="columna01">

    <h2>Curso de Java: Contenido</h2>

      <ul id="menuIzquierda">

        <li><a href="cursodejava000.html">¿Qué es Java?</a></li>

        <li><a href="cursodejava001.html">Objetivos del curso</a></li>

        <li><a href="cursodejava101.html">Instalación</a></li>

        <li><a href="cursodejava102.html">Definición de la POO</a></li>

        <li><a href="cursodejava104.html">Elementos de Java</a></li>

        <li><a href="cursodejava113.html">Sintaxis</a></li>

        <li><a href="cursodejava114.html">Ejecución</a></li>

        <li><a href="cursodejava116.html">Tipos de datos</a></li>

        <li><a href="cursodejava121.html">Estructuras de control</a></li>

        <li><a href="cursodejava201.html">Antes de programar</a></li>

        <li><a href="cursodejava204.html">Aplicación de ejemplo</a></li>

        <li><a href="cursodejavaIndice.html">Índice</a></li>          

  </ul>


    </div><!-- #EndLibraryItem --><div id="columna02">

      <p class="floatright alignright"><b>Iniciación: página 28</b><br />

        [  <a href="cursodejava125.html">25</a>, <a href="cursodejava126.html">26</a>, <a href="cursodejava127.html">27</a>, 28, <a href="cursodejava129.html">29</a>, <a href="cursodejava130.html">30</a>, <a href="cursodejava201.html">1</a> ]</p>

      <h1>Iniciación al lenguaje Java</h1>

      <h2>Estructuras de control</h2>

      <h3>La estructura de control <em>try…catch</em>        <br />

      </h3>

      <p>El bloque <em>try…catch</em> es un poco más complejo que el for y el <em>switch</em>, que veremos después, pero el uso combinado con <em>try catch</em> facilita su comprensión por lo que veremos primero éste. <br />

      La estructura de control en cuestión se usa para capturar el flujo de datos cuando, por la intervención del usuario o de algún dispositivo externo, sucede un error. Por ejemplo, supongamos una aplicación de fórmulas matemáticas en la que el usuario debe ingresar valores numéricos, lo que normalmente sucede es que el sistema recibirá cadenas que deberán ser convertidas a un tipo útil para las operaciones; pero si el usuario ingresa algo distinto a un dígito o a un operador, el programa fallará. Veamos un ejemplo:</p>

      <pre>

DemoErrorNumero.java

import javax.swing.JOptionPane;

public class DemoErrorNumero {

    String mensaje;

    public DemoErrorNumero() {

    	String valorCadena=JOptionPane.showInputDialog(null,"Escribe un entero");

    	/*El método parseInt() de la clase Integer de la librería lang

    	 *convierte un String en un int

    	 */

    	int valorNumero=Integer.parseInt(valorCadena);

	 JOptionPane.showMessageDialog(null,"El valor es "+valorCadena);

    }    

    public static void main(String[] args) {

        new DemoErrorNumero();

    }

}  

</pre>

      <p>Al ejecutar este programa, si en el primer cuadro de diálogo escribimos un entero, aparecerá un segundo cuadro de diálogo indicando el valor; si, por el contrario, escribimos otra cosa, el programa se detiene y en la ventana de <em>General Output</em> de JCreator se mostrará el siguiente mensaje:</p>

      <pre>

      --------------------Configuration: <Default>--------------------

Exception in thread "main" java.lang.NumberFormatException: For input string: "Juanito"

    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)

    at java.lang.Integer.parseInt(Integer.java:447)

    at java.lang.Integer.parseInt(Integer.java:497)

    at DemoErrorNumero.<init>(DemoErrorNumero.java:6)

    at DemoErrorNumero.main(DemoErrorNumero.java:10)

      

      </pre>

      <p>La línea que esta subrayada indica cuál fue el error: la cadena ‘Juanito’ (que fue lo que recibió la variable <em>valorCadena</em>) tiene un formato numérico incorrecto; <em>java.lang</em> es la librería en la que está la clase <em>NumberFormatException</em> que es capaz capturar esos errores y se usa con el <em>try…catch</em> como se muestra en el siguiente ejemplo:</p>

      <pre>

DemoTryCatch.java

import javax.swing.JOptionPane;

public class DemoTryCatch {

    String mensaje;

    public DemoTryCatch() {

    	String valorCadena=JOptionPane.showInputDialog(null,"Escribe un entero");

    	try {

	 		int valorNumero=Integer.parseInt(valorCadena);

	 		/*Si lo escrito no es un entero la línea que sigue no se ejecuta, 

	 		 *el programa busca el bloque catch y ejecuta su contenido

	 		 */

	 		mensaje="Gracias";

		}

		catch (NumberFormatException  ex) {//El bloque catch indica el error que captura.

			mensaje="No escribiste un Entero";

		}

		JOptionPane.showMessageDialog(null,mensaje);//El mensaje enviado según el caso

    }    

    public static void main(String[] args) {

        new DemoTryCatch();

    }

}

      </pre>

      <p>Se debe saber que existe la clase <em>Exception</em> que captura todos los errores, y que derivadas de ella hay muchas otras para atender faltas específicas, como el caso que acabamos de probar. Más adelante en este curso, veremos algunas otras excepciones.      </p>

      <p class="floatright alignright">[ <a href="cursodejava127.html">Anterior</a> | <a href="cursodejava129.html">Siguiente</a> ]<br />

      </p>

      

    </div>

  </div>

  <div id="footer"><small>Todos derechos reservados &copy; 2009 <a href="http://www.3ct.mx" target="_blank">3CT</a><br />

  </small></div>

</div>

</body>

</html>

